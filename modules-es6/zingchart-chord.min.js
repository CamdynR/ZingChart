/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.4_ES6
*/
zingchart.setModule("chord"),function(){var _;ZC.AE0=((_=function(){this.AFC="palette",this.C1="#6a921f",this.BP=[],this.T6=.8,this.AFA=.1,this.AF9=0,this.AF8=5,this.iGroupPadding=10,this.iGroupOffset=0,this.JT=1,this.KF=!1,this.AGH=function(){for(var _=(16777215*Math.random()+1<<0).toString(16);_.length<6;)_="0"+_;return"#"+_}}).getDefaults=function(t){var l={};return ZC._cp_(_.B8,l),_.O6[t]&&ZC._cp_(_.O6[t],l),l},_.B8={palette:[],"border-color-1":"#999","border-color-2":"#666",alpha:.75,tick:{"line-color":"#666",flat:!0,"line-width":1},item:{color:"#333","offset-r":0},label:{"auto-align":!0,color:"#333","offset-r":0},"value-box":{visible:!1}},_.O6={light:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#000","border-color-2":"#fff",alpha:1,tick:{"line-color":"#666"}},dark:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#221F1F","border-color-2":"#221F1F",alpha:1,tick:{"line-color":"#58595B"},item:{color:"#fff"},label:{color:"#D1D3D4"}}},_);var t={},l={},e=null,n=null,a=-1,r=-1,C=function(_){var e=zingchart.getLoader(_.id);if(e){var n=zingchart.getGraph(e,_.graphid);if(n&&"chord"===n.o.type)if(t["chord-"+_.id+"-"+_.graphidx]){l["chord-"+_.id+"-"+_.graphidx]=l["chord-"+_.id+"-"+_.graphidx]||[];var a,r=l["chord-"+_.id+"-"+_.graphidx];-1!==(a=ZC.AV(r,_.plotindex))?r.splice(a,1):r.push(_.plotindex),e.JW()}}};zingchart.bind(null,"legend_item_click",C),zingchart.bind(null,"legend_marker_click",C),zingchart.bind(null,"shape_mouseover",function(_){var l=zingchart.getLoader(_.id);if(l){var e=zingchart.getGraph(l,_.graphid);if(e&&"chord"===e.o.type){var n=t["chord-"+_.id+"-"+_.graphidx];if(n&&!n.KF&&"segment_"===_.shapeid.substring(0,8)){for(var C=ZC._i_(_.shapeid.replace("segment_","")),o=[],Z=0;Z<a;Z++)for(var i=0;i<r;i++)"svg"===l.AB?ZC.A5("#"+e.K+"-shape-chord_"+Z+"_"+i+"-path").attr("fill-opacity",C===Z||C===i?1:.1):o.push({id:"chord_"+Z+"_"+i,alpha:C===Z||C===i?1:.1});"svg"!==l.AB&&zingchart.exec(_.id,"updateobject",{type:"shape",graphid:_.graphid,dynamic:!0,data:o})}}}}),zingchart.bind(null,"shape_mouseout",function(_){var l=zingchart.getLoader(_.id);if(l){var e=zingchart.getGraph(l,_.graphid);if(e&&"chord"===e.o.type){var n=t["chord-"+_.id+"-"+_.graphidx];if(n&&!n.KF&&"segment_"===_.shapeid.substring(0,8)){for(var C=[],o=0;o<a;o++)for(var Z=0;Z<r;Z++)"svg"===l.AB?ZC.A5("#"+e.K+"-shape-chord_"+o+"_"+Z+"-path").attr("fill-opacity",.75):C.push({id:"chord_"+o+"_"+Z,alpha:.75});"svg"!==l.AB&&zingchart.exec(_.id,"updateobject",{type:"shape",graphid:_.graphid,dynamic:!0,data:C})}}}}),zingchart.bind(null,"dataparse",function(_,C){var o,Z,i,p,h,g,c=zingchart.getLoader(_.id);zingchart.initThemes(c);for(var u=ZC.AE0.getDefaults(_.theme),d=0,s=C[ZC._[16]].length;d<s;d++)if("chord"===C[ZC._[16]][d].type){var f=C[ZC._[16]][d].type,A=C[ZC._[16]][d],v={};A.options&&(v=A.options[f]||A.options),ZC._todash_(v),null!==ZC._n_(e)&&(A.shapes=[],ZC._cpa_(e,A.shapes)),null!==ZC._n_(n)&&(A[ZC._[10]]=[],ZC._cpa_(n,A[ZC._[10]]));var b=new ZC.AE0;t["chord-"+_.id+"-"+d]=b,null!==ZC._n_(o=v["color-type"])&&(b.AFC=o),null!==ZC._n_(o=v.color)&&(b.C1=ZC.AP.GD(o)),null!==ZC._n_(o=v.palette)?b.BP=o:u.palette.length>0&&(b.BP=u.palette),null!==ZC._n_(o=v.radius)&&(b.T6=ZC._f_(ZC.IR(o))),null!==ZC._n_(o=v["band-width"])&&(b.AFA=ZC._f_(ZC.IR(o))),null!==ZC._n_(o=v["band-space"])&&(b.AF9=ZC._f_(ZC.IR(o))),null!==ZC._n_(o=v["angle-padding"])&&(b.AF8=ZC._i_(o)),null!==ZC._n_(o=v["group-padding"])&&(b.iGroupPadding=ZC._i_(o)),null!==ZC._n_(o=v["group-offset"])&&(b.iGroupOffset=ZC._i_(o)),null!==ZC._n_(o=v["size-factor"])&&(b.JT=ZC._f_(o)),null!==ZC._n_(o=v.flat)&&(b.KF=ZC._b_(o));var y=A[ZC._[11]];for(Z=0;Z<y.length;Z++)y[Z]["sort-index"]=Z;var x=[];y.sort(function(_,t){return null!==ZC._n_(_.group)&&-1===ZC.AV(x,ZC._i_(_.group))&&x.push(ZC._i_(_.group)),null!==ZC._n_(t.group)&&-1===ZC.AV(x,ZC._i_(t.group))&&x.push(ZC._i_(t.group)),null!==ZC._n_(_.group)&&null!==ZC._n_(t.group)&&ZC._i_(_.group)-ZC._i_(t.group)!=0?ZC._i_(_.group)-ZC._i_(t.group):_["sort-index"]-t["sort-index"]});var F=ZC.BQ(x.length,1),m=l["chord-"+_.id+"-"+d]||[],B=m.length,M=0;for(Z=0,i=y.length;Z<i;Z++)if(0===B||B>0&&-1===ZC.AV(m,Z))for(h=0,g=(p=y[Z][ZC._[5]]||[]).length;h<g;h++)(0===B||B>0&&-1===ZC.AV(m,h))&&(M+=ZC._f_(p[h]));var E=0;for(Z=0,i=y.length;Z<i;Z++)(0===B||B>0&&-1===ZC.AV(m,Z))&&E++;if(-1===a&&(a=y.length),-1===r)for(Z=0,i=y.length;Z<i;Z++)p=y[Z][ZC._[5]]||[],r=ZC.BQ(r,p.length);A.shapes||(A.shapes=[]),e||(e=[],ZC._cpa_(A.shapes,e));var z=A.shapes;A[ZC._[10]]||(A[ZC._[10]]=[]),n||(n=[],ZC._cpa_(A[ZC._[10]],n));var k,D,V,G,w,P,Q,I,L,T,O=A[ZC._[10]];A.legend&&(A.legend[ZC._[54]]="none");var K,N=360-b.AF8*E-b.iGroupPadding*(F>1?F:0),X=[],J=[],R=[],S=0,U=0,j=null,H=!1;for(Z=0,i=y.length;Z<i;Z++){ZC._todash_(y[Z]),K=1,null!==ZC._n_(y[Z].group)&&(K=ZC._i_(y[Z].group)),H=!1,U=0,null===j&&null!==ZC._n_(y[Z].group)?j=ZC._i_(y[Z].group):ZC._i_(y[Z].group)!==j&&(j=ZC._i_(y[Z].group),H=!0),H&&Z>0&&(U=b.iGroupPadding);var W=b.C1;if("palette"===b.AFC)if(b.BP.length>0)W=b.BP[Z%b.BP.length];else W=zingchart.getPalette(c,Z,"bar")[1];else"random"===b.AFC&&(W=b.AGH());if(0===B||B>0&&-1===ZC.AV(m,Z)){null===ZC._n_(y[Z][ZC._[0]])&&(y[Z][ZC._[0]]=W),y[Z].visible=!0;var q={},Y=0;for(h=0,g=(p=y[Z][ZC._[5]]||[]).length;h<g;h++)(0===B||B>0&&-1===ZC.AV(m,h))&&(Y+=ZC._f_(p[h]));q[ZC._[1]]=S+U,q[ZC._[2]]=q[ZC._[1]]+N*Y/M,q.group=K,q.total=Y,q[ZC._[5]]=y[Z][ZC._[5]],S=q[ZC._[2]]+b.AF8,X.push(q);var $=zingchart.getInstance(c,"style");$.append(y[Z]),$.parse(),J[Z]=$,A.legend&&ZC._cp_({"legend-marker":{alpha:.75,"background-color-1":$.A0,"background-color-2":$.AE}},y[Z]),Q={"background-color":"#fff",color:"#333","border-width":1,"border-color":u["border-color-1"],padding:10},null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.tooltip)&&ZC._cp_(o,Q);var __=y[Z].text||"";Q.text=__;var t_={alpha:u.alpha,"border-width":0,"background-color":$.A0+" "+$.AE,tooltip:Q};null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.band)&&ZC._cp_(o,t_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.band)&&ZC._cp_(o,t_),ZC._cp_({type:"pie",id:"segment_"+Z,"angle-start":q[ZC._[1]],"angle-end":q[ZC._[2]]},t_),t_.tooltip.text=t_.tooltip.text.replace(/%text/gi,__),R.push(t_)}else y[Z].visible=!1,X.push(null),R.push(null)}var l_=0;if(F>1){var e_=Number.MAX_VALUE,n_=-Number.MAX_VALUE;for(Z=0,i=X.length;Z<i;Z++)1===X[Z].group&&(e_=Math.min(e_,X[Z][ZC._[1]]),n_=Math.max(n_,X[Z][ZC._[2]]));l_=(n_-e_)/2}for(l_+=b.iGroupOffset,Z=0,i=X.length;Z<i;Z++)X[Z]&&R[Z]&&(X[Z][ZC._[1]]-=l_,X[Z][ZC._[2]]-=l_,R[Z][ZC._[1]]-=l_,R[Z][ZC._[2]]-=l_,z.push(R[Z]));var a_,r_=Number.MAX_VALUE;if(0!==M){for(Z=0,i=X.length;Z<i;Z++)if(0===B||B>0&&-1===ZC.AV(m,Z)){var C_=Math.pow(10,Math.floor(Math.log(X[Z].total)/Math.LN10));C_>0&&(r_=ZC.CX(r_,C_))}for(;!((a_=N*r_/M)<15);)r_/=2}else r_=1;var o_,Z_,i_,p_,h_,g_,c_,u_=Math.min(0,Math.ceil(Math.log(r_)/Math.LN10)+1),d_=0,s_=0;for(Z=0,i=X.length;Z<i;Z++)if(0===B||B>0&&-1===ZC.AV(m,Z))for(o_=0,Z_=ZC.BQ(1,Math.floor(10/a_)),k=X[Z][ZC._[1]];k<X[Z][ZC._[2]];k+=a_)o_%Z_==0&&(h_=(i_=o_*r_).toFixed(u_),i_>=1e3&&(h_=i_/1e3+"k"),i_>=1e6&&(h_=i_/1e6+"M"),p_={},ZC._cp_(u.item,p_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.item)&&ZC._cp_(o,p_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.item)&&ZC._cp_(o,p_),p_.text=h_,ZC._todash_(p_),(g_=zingchart.getInstance(c,"textbox")).append(p_),g_.parse(),s_=Math.max(s_,g_.DS),d_=Math.max(d_,g_.I)),o_++;var f_,A_=0,v_=0,b_=0;for(Z=0;Z<y.length;Z++)h_=y[Z].text||"",f_={},ZC._cp_(u.label,f_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.label)&&ZC._cp_(o,f_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.label)&&ZC._cp_(o,f_),f_.text=h_,ZC._todash_(f_),(c_=zingchart.getInstance(c,"textbox")).append(f_),c_.parse(),b_=Math.max(b_,c_.DS),A_=Math.max(A_,c_.I),v_=Math.max(v_,c_.F);if(A.plotarea)for(var y_=["margin",ZC._[57],ZC._[58],ZC._[59],ZC._[60]],x_=0;x_<y_.length;x_++)"dynamic"===A.plotarea[y_[x_]]&&(0===c_.A9?A.plotarea[y_[x_]]=d_+s_+v_-20:A.plotarea[y_[x_]]=d_+s_+A_-20);var F_,m_,B_=zingchart.getGraphInfo(c,C,d),M_=B_.plotarea.x+B_.plotarea.width/2,E_=B_.plotarea.y+B_.plotarea.height/2,z_=B_.graph.x+M_,k_=B_.graph.y+E_;for(F_=b.T6>1?ZC._i_(b.T6):ZC._i_(b.T6*ZC.CX(B_.plotarea.width/2,B_.plotarea.height/2)),F_*=b.JT,m_=b.AFA>1?F_-ZC._i_(b.AFA):ZC._i_((1-b.AFA)*F_),b.AF9<1&&(b.AF9=ZC._i_(b.AF9*F_)),Z=0,i=z.length;Z<i;Z++)z[Z].id&&0===z[Z].id.indexOf("segment_")&&(z[Z].x=M_,z[Z].y=E_,z[Z][ZC._[21]]=F_,z[Z][ZC._[8]]=m_);for(Z=0,i=X.length;Z<i;Z++)if(0===B||B>0&&-1===ZC.AV(m,Z)){o_=0;var D_=[],V_={};ZC._cp_(u.tick,V_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.tick)&&ZC._cp_(o,V_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.tick)&&ZC._cp_(o,V_);var G_=V_[ZC._[21]]||5;for(Z_=ZC.BQ(1,Math.floor(10/a_)),P=30,k=X[Z][ZC._[1]];k<X[Z][ZC._[2]];k+=a_){var w_=ZC.AQ.BM(z_,k_,F_,k+.1),P_=ZC.AQ.BM(z_,k_,F_+G_,k+.1);D_.push(w_,P_,null),o_%Z_==0&&(h_=(i_=o_*r_).toFixed(u_),i_>=1e3&&(h_=i_/1e3+"k"),i_>=1e6&&(h_=i_/1e6+"M"),D=k,V="left",k>90&&k<270&&(D=k-180,V="right"),p_={},ZC._cp_(u.item,p_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.item)&&ZC._cp_(o,p_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.item)&&ZC._cp_(o,p_),P=p_[ZC._[19]]||d_,w=ZC._i_(p_["offset-r"]||"0"),G=ZC.AQ.BM(M_,E_,F_+G_+w+P/2,k+.1),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(G[0]),y:ZC._i_(G[1]),width:P,angle:D,"text-align":V,text:h_},p_),(typeof p_.visible===ZC._[31]||ZC._b_(p_.visible))&&O.push(p_)),o_++}ZC._cp_({type:"line",id:"ticks"+Z,points:D_},V_),(typeof V_.visible===ZC._[31]||ZC._b_(V_.visible))&&z.push(V_),D=k=(X[Z][ZC._[1]]+X[Z][ZC._[2]])/2,k<0&&(k+=360),k%=360,V="center",0===c_.A9?k>=0&&k<=180?D-=90:D+=90:k>=0&&k<=90||k>=270&&k<=360?D-=90:D+=90;var Q_={};ZC._cp_(u[ZC._[17]],Q_),null!==ZC._n_(A.plot)&&null!==ZC._n_(o=A.plot[ZC._[17]])&&ZC._cp_(o,Q_),null!==ZC._n_(o=y[Z][ZC._[17]])&&ZC._cp_(o,Q_);var I_=ZC.AQ.BM(z_,k_,(F_+m_)/2,(X[Z][ZC._[1]]+X[Z][ZC._[2]])/2),L_=D;null===ZC._n_(Q_.angle)&&null===ZC._n_(Q_["font-angle"])||(Q_["auto-align"]?null!==ZC._n_(Q_.angle)?L_+=ZC._f_(Q_.angle):L_+=ZC._f_(Q_["font-angle"]):L_=null!==ZC._n_(Q_.angle)?ZC._f_(Q_.angle):ZC._f_(Q_["font-angle"])),ZC._cp_({id:"vbox_"+Z,anchor:"c",angle:L_,x:I_[0],y:I_[1],flat:!0},Q_),Q_.text=Q_.text||"%node-value",Q_.text=Q_.text.replace(/%plot-text/gi,y[Z].text||"").replace(/%node-value/gi,X[Z].total),(typeof Q_.visible===ZC._[31]||ZC._b_(Q_.visible))&&O.push(Q_),f_={},ZC._cp_(u.label,f_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.label)&&ZC._cp_(o,f_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.label)&&ZC._cp_(o,f_),L=f_[ZC._[19]]||A_,T=f_[ZC._[20]]||v_,I=ZC._i_(f_["offset-r"]||"0"),null===ZC._n_(f_.angle)&&null===ZC._n_(f_["font-angle"])||(f_["auto-align"]?(null!==ZC._n_(f_.angle)?D+=ZC._f_(f_.angle):D+=ZC._f_(f_["font-angle"]),0!==c_.A9&&(V=k>=0&&k<=90||k>=270&&k<=360?"left":"right")):D=null!==ZC._n_(f_.angle)?ZC._f_(f_.angle):ZC._f_(f_["font-angle"])),G=0===c_.A9?ZC.AQ.BM(M_,E_,F_+G_+w+P+I+T,k):ZC.AQ.BM(M_,E_,F_+G_+w+P+I+L/2,k),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(G[0]),y:ZC._i_(G[1]),width:L,angle:D,"font-angle":D,"text-align":V,text:y[Z].text},f_),(typeof f_.visible===ZC._[31]||ZC._b_(f_.visible))&&O.push(f_)}var T_=m_-b.AF9;for(Z=0,i=X.length;Z<i;Z++)if(0===B||B>0&&-1===ZC.AV(m,Z))for(h=0,g=X.length;h<i;h++)if(0===B||B>0&&-1===ZC.AV(m,h)){for(var O_=0,K_=0,N_=0;N_<h;N_++)(0===B||B>0&&-1===ZC.AV(m,N_))&&(typeof X[Z][ZC._[5]][N_]===ZC._[31]&&(X[Z][ZC._[5]][N_]=0),O_+=X[Z][ZC._[5]][N_]);for(N_=0;N_<Z;N_++)(0===B||B>0&&-1===ZC.AV(m,N_))&&(typeof X[h][ZC._[5]][N_]===ZC._[31]&&(X[h][ZC._[5]][N_]=0),K_+=X[h][ZC._[5]][N_]);var X_=0;typeof X[Z][ZC._[5]][h]!==ZC._[31]&&(X_=X[Z][ZC._[5]][h]);var J_=0;typeof X[h][ZC._[5]][Z]!==ZC._[31]&&(J_=X[h][ZC._[5]][Z]);var R_=X[Z][ZC._[1]]+(X[Z][ZC._[2]]-X[Z][ZC._[1]])*O_/X[Z].total,S_=R_+(X[Z][ZC._[2]]-X[Z][ZC._[1]])*X_/X[Z].total,U_=X[h][ZC._[1]]+(X[h][ZC._[2]]-X[h][ZC._[1]])*K_/X[h].total,j_=U_+(X[h][ZC._[2]]-X[h][ZC._[1]])*J_/X[h].total;0===X[Z].total&&(R_=X[Z][ZC._[1]],S_=X[Z][ZC._[2]]),0===X[h].total&&(U_=X[h][ZC._[1]],j_=X[h][ZC._[2]]);var H_=ZC.AQ.BM(z_,k_,T_,R_),W_=ZC.AQ.BM(z_,k_,T_,U_);Q={"background-color":"#fff",color:"#333","border-width":1,"border-color":u["border-color-1"],padding:10},null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.tooltip)&&ZC._cp_(o,Q);var q_=y[Z].text||"",Y_=y[h].text||"",$_={},_t=[];if(Z===h?(Q.text=q_+":"+X[Z][ZC._[5]][h],_t=[[H_[0],H_[1]],[z_,k_,T_,R_,S_,0],[z_,k_,H_[0],H_[1]]]):Z<=h&&(Q.text=q_+" -> "+Y_+":"+X[Z][ZC._[5]][h]+"<br>"+Y_+" -> "+q_+":"+X[h][ZC._[5]][Z],_t=[[H_[0],H_[1]],[z_,k_,T_,R_,S_,0],[z_,k_,W_[0],W_[1]],[z_,k_,T_,U_,j_,0],[z_,k_,H_[0],H_[1]]]),_t.length>0){var tt=X_>=J_?Z:h;ZC._cp_({"background-color":J[tt].A0+" "+J[tt].AE,alpha:.75,"border-width":1,"border-color":u["border-color-2"],tooltip:Q},$_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.chord)&&ZC._cp_(o,$_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.chord)&&ZC._cp_(o,$_),ZC._cp_({type:"poly",id:"chord_"+Z+"_"+h,dynamic:!0,"fast-vector-path":!0,points:_t},$_),Z!==h&&null!==ZC._n_(o=$_.tooltip["text-chord"])&&($_.tooltip.text=o),$_.tooltip.text=$_.tooltip.text.replace(/%text-destination/gi,Y_).replace(/%value-destination/gi,X[h][ZC._[5]][Z]).replace(/%text-source/gi,q_).replace(/%value-source/gi,X[Z][ZC._[5]][h]).replace(/%text/gi,q_).replace(/%value/gi,X[Z][ZC._[5]][h]),(typeof $_.visible===ZC._[31]||ZC._b_($_.visible))&&(0===X_&&0===J_||z.push($_))}}}return C})}();